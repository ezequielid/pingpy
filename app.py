from flask import Flask, render_template
import subprocess

app = Flask(__name__)

def check_ping(ip):
    try:
        subprocess.check_output(['ping', '-c', '2', ip])
        return "Ping OK"
    except subprocess.CalledProcessError:
        return "Ping Fallo"

@app.route('/')
def index():
    ips = ["generalroca.gob.ar",
    "192.168.10.5",
    "192.168.10.7",
    "192.168.10.9",
    "192.168.10.10",
    "192.168.10.11",
    "192.168.10.15",
    "192.168.10.24",
    "192.168.10.77",
    "192.168.10.96",
    "192.168.10.146",
    "192.168.10.149",
    "192.168.10.191",
    "192.168.10.208",
    "192.168.10.218",
    "192.168.10.249",
    "192.168.11.10",
    "192.168.11.20",
    "192.168.11.59",
    "192.168.11.61",
    "192.168.11.65",
    "192.168.11.66",
    "192.168.11.67",
    "192.168.11.68",
    "192.168.11.72",
    "192.168.11.73",
    "192.168.11.75",
    "192.168.11.77",
    "192.168.11.80",
    "192.168.11.81",
    "192.168.11.111",
    "192.168.11.112",
    "192.168.11.113",
    "192.168.11.115",
    "192.168.11.116",
    "192.168.100.210",
    "192.168.100.215",
    "192.168.100.215",
    "192.168.100.220",
    "192.168.21.245"]
    
    results = [(ip, check_ping(ip)) for ip in ips]
    return render_template('index.html', results=results)

if __name__ == '__main__':
    app.run(debug=True)
